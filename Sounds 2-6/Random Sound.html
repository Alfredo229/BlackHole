<html>
<head>
<title>Random Binary Chords</title>
</head>
<script>

playback00 = new Audio();
playback01 = new Audio();

myFlag = 0;
running = 0;

myFiles = new Array();
for(i=0; i<4; i++){
	myFiles[i] = new Audio();
	myFiles[i].src = (i+2)+".mp3";
	myFiles[i].load();
}

function start(){
	timer00 = Number(document.getElementById("theDelay00").value);
	if(running != 1){
		running = 1;
		myLoop(0,timer00);
	}
}

function myLoop(theIndex, myTimer){
	if(running == 1){
	currentIndex = theIndex;
	while(currentIndex == theIndex)
		currentIndex = Math.floor(Math.random()*4);
	console.log(currentIndex);
	if(myFlag == 0){
		playback00.pause();
		playback00 = myFiles[currentIndex];
		playback00.play();
		myFlag = 1;
	}else{
		playback01.pause();
		playback01 = myFiles[currentIndex];
		playback01.play();
		myFlag = 0;
	}
	setTimeout('myLoop('+currentIndex+','+myTimer+')',myTimer);
}}

function stop(){
	running = 0;
	playback00.pause();
	playback01.pause();
}

</script>

<body>
<h1>Random Binary Chords</h1><br>
<form>
	<input type="button" value="Start" onClick="start()"></input>
	<input type="button" value="Stop" onClick="stop()"></input>
	<input type="text" value="1333" id="theDelay00"></input>
</form>
</body>
</html>